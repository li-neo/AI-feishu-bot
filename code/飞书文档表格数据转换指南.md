# é£ä¹¦æ–‡æ¡£è¡¨æ ¼æ•°æ®è½¬æ¢æŒ‡å—

## 1. é£ä¹¦æ–‡æ¡£è¡¨æ ¼æ•°æ®æå–æ–¹å¼

### æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å¯¼å‡ºä¸è½¬æ¢
1. ä»é£ä¹¦æ–‡æ¡£ä¸­å¤åˆ¶è¡¨æ ¼æ•°æ®åˆ°Excelæˆ–Google Sheets
2. å°†Excelè½¬æ¢ä¸ºJSONæ ¼å¼ï¼š
   - ä½¿ç”¨åœ¨çº¿å·¥å…·ï¼ˆå¦‚ https://www.convertcsv.com/csv-to-json.htmï¼‰
   - æˆ–ä½¿ç”¨Pythonè„šæœ¬å¤„ç†
3. è°ƒæ•´JSONæ ¼å¼ä¸ºç¨‹åºæ‰€éœ€çš„ç»“æ„

### æ–¹å¼äºŒï¼šä½¿ç”¨é£ä¹¦APIï¼ˆæ¨èï¼‰
1. ç”³è¯·é£ä¹¦å¼€å‘è€…è´¦å·å’Œåº”ç”¨
2. ä½¿ç”¨é£ä¹¦å¼€æ”¾å¹³å°APIè·å–æ–‡æ¡£è¡¨æ ¼æ•°æ®
3. å‚è€ƒé£ä¹¦å¼€æ”¾å¹³å°æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/

### æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨æ„é€ ç»“æ„åŒ–æ•°æ®
æ ¹æ®è¡¨æ ¼å†…å®¹æ‰‹åŠ¨åˆ›å»ºç¬¦åˆè¦æ±‚çš„JSONæ•°æ®

## 2. ç»“æ„åŒ–æ•°æ®æ ¼å¼è¦æ±‚

### æ•°æ®å­—æ®µè¯´æ˜

ç¨‹åºæ”¯æŒä»¥ä¸‹å­—æ®µï¼ˆ*ä¸ºå¿…å¡«å­—æ®µï¼‰ï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|-------|------|------|--------|
| category * | string | åˆ†ç±»ï¼ˆå¦‚ï¼šå›¾åƒç”Ÿæˆã€3Dç”Ÿæˆã€è§†é¢‘ç”Ÿæˆç­‰ï¼‰ | "å›¾åƒç”Ÿæˆ" |
| title * | string | æ ‡é¢˜ | "Nano banana pro" |
| content | string | è¯¦ç»†å†…å®¹/äº®ç‚¹ï¼ˆæ”¯æŒMarkdownæ ¼å¼ï¼‰ | "â€¢ ğŸ“¥ è¾“å…¥ï¼šæ–‡å­—ã€å›¾ç‰‡\nâ€¢ ğŸ“¤ è¾“å‡ºï¼šæ–‡å­—" |
| img_key | string | é£ä¹¦å›¾ç‰‡Key | "img_v2_test_1" |
| link | string | è·³è½¬é“¾æ¥ | "https://example.com/1" |
| input | string | è¾“å…¥è¯´æ˜ | "å›¾åƒã€æ–‡å­—" |
| output | string | è¾“å‡ºè¯´æ˜ | "å›¾åƒ" |
| highlights | string | äº®ç‚¹æè¿° | "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½" |

### æ”¯æŒçš„è¾“å…¥æ ¼å¼

ç¨‹åºæ”¯æŒä¸‰ç§è¾“å…¥æ ¼å¼ï¼š

#### æ ¼å¼1ï¼šåˆ—è¡¨æ ¼å¼
```python
table_data = [
    {
        "category": "å›¾åƒç”Ÿæˆ",
        "title": "Nano banana pro",
        "input": "å›¾åƒã€æ–‡å­—",
        "output": "å›¾åƒ",
        "highlights": "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½",
        "img_key": "img_v2_test_1",
        "link": "https://example.com/1"
    },
    # æ›´å¤šæ•°æ®é¡¹...
]
```

#### æ ¼å¼2ï¼šJSONæ•°ç»„å­—ç¬¦ä¸²
```json
[
    {
        "category": "å›¾åƒç”Ÿæˆ",
        "title": "Nano banana pro",
        "input": "å›¾åƒã€æ–‡å­—",
        "output": "å›¾åƒ",
        "highlights": "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½",
        "img_key": "img_v2_test_1",
        "link": "https://example.com/1"
    }
]
```

#### æ ¼å¼3ï¼šåŒ…å«itemså­—æ®µçš„JSONå¯¹è±¡
```json
{
    "summary": "AIå‘¨æŠ¥æ‘˜è¦",
    "items": [
        {
            "category": "å›¾åƒç”Ÿæˆ",
            "title": "Nano banana pro",
            "input": "å›¾åƒã€æ–‡å­—",
            "output": "å›¾åƒ",
            "highlights": "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½",
            "img_key": "img_v2_test_1",
            "link": "https://example.com/1"
        }
    ]
}
```

## 3. é£ä¹¦æ–‡æ¡£è¡¨æ ¼ç¤ºä¾‹ä¸è½¬æ¢

### é£ä¹¦æ–‡æ¡£è¡¨æ ¼ç¤ºä¾‹

| åˆ†ç±» | æ ‡é¢˜ | è¾“å…¥ | è¾“å‡º | äº®ç‚¹ | å›¾ç‰‡Key | é“¾æ¥ |
|------|------|------|------|------|---------|------|
| å›¾åƒç”Ÿæˆ | Nano banana pro | å›¾åƒã€æ–‡å­— | å›¾åƒ | å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½ | img_v2_test_1 | https://example.com/1 |
| å›¾åƒç”Ÿæˆ | Gemini 3 pro | æ–‡å­—ã€å›¾ç‰‡ | æ–‡å­— | èƒ½å¤Ÿè¾“å‡ºå¸¦æœ‰ç°ä»£äº¤äº’åŠ¨æ•ˆçš„é«˜è´¨é‡ç½‘é¡µ | img_v2_test_2 | https://example.com/2 |

### è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®

```python
# è½¬æ¢åçš„ç»“æ„åŒ–æ•°æ®
table_data = [
    {
        "category": "å›¾åƒç”Ÿæˆ",
        "title": "Nano banana pro",
        "input": "å›¾åƒã€æ–‡å­—",
        "output": "å›¾åƒ",
        "highlights": "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½",
        "img_key": "img_v2_test_1",
        "link": "https://example.com/1"
    },
    {
        "category": "å›¾åƒç”Ÿæˆ",
        "title": "Gemini 3 pro",
        "input": "æ–‡å­—ã€å›¾ç‰‡",
        "output": "æ–‡å­—",
        "highlights": "èƒ½å¤Ÿè¾“å‡ºå¸¦æœ‰ç°ä»£äº¤äº’åŠ¨æ•ˆçš„é«˜è´¨é‡ç½‘é¡µ",
        "img_key": "img_v2_test_2",
        "link": "https://example.com/2"
    }
]
```

## 4. ä»£ç è°ƒç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šä½¿ç”¨åˆ—è¡¨æ•°æ®
```python
from weekly_report import create_weekly_report_card

# å‡†å¤‡æ•°æ®
table_data = [
    {
        "category": "å›¾åƒç”Ÿæˆ",
        "title": "Nano banana pro",
        "input": "å›¾åƒã€æ–‡å­—",
        "output": "å›¾åƒ",
        "highlights": "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½",
        "img_key": "img_v2_test_1",
        "link": "https://example.com/1"
    }
]

# ç”Ÿæˆå¡ç‰‡
card = create_weekly_report_card(table_data)

# å‘é€å¡ç‰‡
from weekly_report import send_weekly_report_to_groups
send_weekly_report_to_groups(table_data, target_chat_ids=["oc_ce45f0e5aceeb9a90df859944a309635"])
```

### ç¤ºä¾‹2ï¼šä½¿ç”¨JSONå­—ç¬¦ä¸²
```python
import json
from weekly_report import create_weekly_report_card

# å‡†å¤‡JSONæ•°æ®
json_data = json.dumps([
    {
        "category": "å›¾åƒç”Ÿæˆ",
        "title": "Nano banana pro",
        "input": "å›¾åƒã€æ–‡å­—",
        "output": "å›¾åƒ",
        "highlights": "å…·å¤‡LLMçŸ¥è¯†å’Œç†è§£èƒ½åŠ›ã€è”ç½‘åŠŸèƒ½",
        "img_key": "img_v2_test_1",
        "link": "https://example.com/1"
    }
])

# ç”Ÿæˆå¡ç‰‡
card = create_weekly_report_card(json_data)
```

## 5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### Q1ï¼šå¦‚ä½•è·å–é£ä¹¦å›¾ç‰‡çš„img_keyï¼Ÿ
Aï¼šä½¿ç”¨é£ä¹¦å¼€æ”¾å¹³å°çš„å›¾ç‰‡ä¸Šä¼ APIè·å–å›¾ç‰‡keyï¼Œæˆ–ä»å·²æœ‰çš„é£ä¹¦æ¶ˆæ¯ä¸­æå–ã€‚

### Q2ï¼šè¡¨æ ¼æ•°æ®ä¸­æœ‰å¤šè¡Œå†…å®¹æ€ä¹ˆåŠï¼Ÿ
Aï¼šåœ¨contentå­—æ®µä¸­ä½¿ç”¨\næ¢è¡Œç¬¦è¡¨ç¤ºå¤šè¡Œï¼Œæ”¯æŒMarkdownæ ¼å¼ã€‚

### Q3ï¼šå¦‚ä½•å¤„ç†ä¸åŒç±»å‹çš„åˆ†ç±»ï¼Ÿ
Aï¼šç¨‹åºä¼šæ ¹æ®categoryå­—æ®µè‡ªåŠ¨åˆ†ç±»å±•ç¤ºï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

### Q4ï¼šå¦‚ä½•è°ƒæ•´å¡ç‰‡æ ·å¼ï¼Ÿ
Aï¼šä¿®æ”¹card.jsonæ¨¡æ¿æ–‡ä»¶ï¼Œè°ƒæ•´æ ·å¼å’Œå¸ƒå±€ã€‚

## 6. æ‰©å±•åŠŸèƒ½

### å®šæ—¶è‡ªåŠ¨å‘é€
å¯ä»¥ä½¿ç”¨crontabæˆ–å…¶ä»–å®šæ—¶ä»»åŠ¡å·¥å…·ï¼Œå®šæœŸä»é£ä¹¦æ–‡æ¡£è·å–è¡¨æ ¼æ•°æ®å¹¶å‘é€å‘¨æŠ¥ã€‚

### è‡ªåŠ¨æ•°æ®è·å–
ç»“åˆé£ä¹¦å¼€æ”¾å¹³å°APIï¼Œå®ç°è‡ªåŠ¨ä»é£ä¹¦æ–‡æ¡£è·å–è¡¨æ ¼æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨å¯¼å‡ºã€‚

### æ•°æ®ç­›é€‰ä¸è¿‡æ»¤
æ ¹æ®éœ€æ±‚æ·»åŠ æ•°æ®ç­›é€‰é€»è¾‘ï¼Œåªå±•ç¤ºç¬¦åˆæ¡ä»¶çš„æ•°æ®ã€‚

## 7. æµ‹è¯•æŒ‡å—

### è¿è¡Œæµ‹è¯•è„šæœ¬
```bash
cd /Users/bytedance/AI/csm_ai/code
python test_AI_daily.py debug_weekly_report
```

### æŸ¥çœ‹æµ‹è¯•ç»“æœ
- æµ‹è¯•è„šæœ¬ä¼šç”Ÿæˆæµ‹è¯•å¡ç‰‡å¹¶ä¿å­˜åˆ°test_card_output.json
- æ£€æŸ¥ç”Ÿæˆçš„å¡ç‰‡æ˜¯å¦ç¬¦åˆé¢„æœŸ
- æ ¹æ®æµ‹è¯•ç»“æœè°ƒæ•´æ•°æ®æ ¼å¼å’Œå­—æ®µ

## 8. æœ€ä½³å®è·µ

1. **ä¿æŒæ•°æ®ä¸€è‡´æ€§**ï¼šç¡®ä¿æ‰€æœ‰æ•°æ®é¡¹çš„å­—æ®µåç§°å’Œæ ¼å¼ä¸€è‡´
2. **å®Œå–„å­—æ®µå†…å®¹**ï¼šå°½å¯èƒ½å¡«å†™æ‰€æœ‰å­—æ®µï¼Œç‰¹åˆ«æ˜¯categoryã€titleå’Œcontent
3. **åˆç†åˆ†ç±»**ï¼šæ ¹æ®å†…å®¹åˆç†åˆ†ç±»ï¼Œä¾¿äºé˜…è¯»å’Œç®¡ç†
4. **å®šæœŸæ›´æ–°æ•°æ®**ï¼šå®šæœŸä»é£ä¹¦æ–‡æ¡£åŒæ­¥æ•°æ®ï¼Œç¡®ä¿ä¿¡æ¯æœ€æ–°
5. **æµ‹è¯•éªŒè¯**ï¼šæ¯æ¬¡ä¿®æ”¹æ•°æ®åè¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯æ•ˆæœ

## 9. å‚è€ƒèµ„æº

- é£ä¹¦å¼€æ”¾å¹³å°æ–‡æ¡£ï¼šhttps://open.feishu.cn/document/
- é£ä¹¦å¡ç‰‡è®¾è®¡æŒ‡å—ï¼šhttps://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-design-guidelines
- JSONæ ¼å¼éªŒè¯å·¥å…·ï¼šhttps://jsonformatter.curiousconcept.com/